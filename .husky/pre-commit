

#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'ğŸŒ´ğŸŒ´ Linting & testing the code changes before committing ğŸŒ´ğŸŒ´'

# Check Eslint errors
npm run lint:fix ||
(
    echo 'âŒâŒâŒâŒ Failed Lint Check âŒâŒâŒâŒ
        Just Fixed âœ…âœ…âœ…âœ…'
    true;
)

# Check Unit Tests errors
npm run test ||
(
    echo 'âŒâŒâŒâŒ Failed Unit Tests Check âŒâŒâŒâŒ
        Unit tests check failed, please fix all the relevent tests cases'
    false;
)

# Check Cypress E2E tests errors
npm run cypress:headless ||
(
    echo 'âŒâŒâŒâŒ Failed Prettier Check âŒâŒâŒâŒ
        Prettier check failed, please fix the prettier by using: npm run check-prettier'
    false;
)

# If everything passes ... this message will be shown to you
echo 'Well done ğŸš€ğŸš€ğŸš€ğŸš€'
